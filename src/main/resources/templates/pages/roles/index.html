<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="layout/main :: layout(~{::content}, 'Roles')">

<section th:fragment="content">

    <div class="flex justify-between mb-6">
        <h1 class="text-2xl font-bold">Roles</h1>
        <a th:href="@{/roles/new}"
           class="bg-blue-600 text-white px-4 py-2 rounded">
            Nuevo Rol
        </a>
    </div>

    <table class="w-full bg-white rounded shadow">
        <thead class="bg-gray-100">
        <tr>
            <th class="p-3 text-left">Nombre</th>
            <th class="p-3">Permisos</th>
            <th class="p-3 text-right">Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="r : ${roles}">
            <td class="p-3" th:text="${r.name}"></td>
            <td class="p-3 text-sm">
                <span th:each="p : ${r.permissions}"
                      th:text="${p.name}"
                      class="inline-block bg-gray-200 px-2 py-1 rounded mr-1">
                </span>
            </td>
            <td class="p-3 text-right">
                <a th:href="@{|/roles/${r.id}/edit|}" class="text-blue-600">Editar</a>
            </td>
        </tr>
        </tbody>
    </table>

</section>
</html>
